<Window x:Class="GraphPathfinder.Views.MainWindow"
        xmlns:conv="clr-namespace:GraphPathfinder.Views"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:views="clr-namespace:GraphPathfinder.Views"
        Title="GraphPathfinder" Height="600" Width="900">
    <Window.Resources>
    <conv:MinCountToEnabledConverter x:Key="MinCountToEnabledConverter" />
</Window.Resources>
<DockPanel>
        <!-- Graph text input panel (collapsed by default) -->
        <views:GraphTextInput x:Name="GraphTextInputPanel" DockPanel.Dock="Right" Visibility="Collapsed" Width="200" />
     
        <!-- Status bar at the bottom -->
        <StatusBar DockPanel.Dock="Bottom">
            <TextBlock Text="{Binding Status}" />
        </StatusBar>
        <!-- Show/Hide Text Input button -->
        <Button x:Name="ShowTextInputButton" Content="Text Input" DockPanel.Dock="Bottom" Height="28" Margin="12,2,12,12" />
        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="180" />
                <ColumnDefinition Width="*" />
            </Grid.ColumnDefinitions>
            <!-- Sidebar for controls -->
            <StackPanel Grid.Column="0" Background="#F2F2F2" Margin="12,12,0,12" VerticalAlignment="Stretch">
                <CheckBox Content="Directed" Margin="8,8,8,0" IsChecked="{Binding IsDirected, Mode=TwoWay}"/>
                <CheckBox Content="Weighted" Margin="8,4,8,8" IsChecked="{Binding IsWeighted, Mode=TwoWay}"/>
                <TextBlock Text="Algorithms" FontWeight="Bold" Margin="8" />
                <ComboBox x:Name="AlgorithmComboBox" Margin="6,0,6,6" Width="150"
                          ItemsSource="{Binding Algorithms}"
                          SelectedItem="{Binding SelectedAlgorithm, Mode=TwoWay}"
                          />
                <StackPanel Orientation="Horizontal" Margin="6,0,0,6">
                    <TextBlock Text="Start:" VerticalAlignment="Center" Margin="0,0,4,0" />
                    <ComboBox x:Name="StartVertexComboBox" Width="50"
                              ItemsSource="{Binding Vertices}"
                              SelectedItem="{Binding StartVertex, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                              DisplayMemberPath="Id"
                              IsEnabled="{Binding Vertices.Count, Converter={StaticResource MinCountToEnabledConverter}, ConverterParameter=2}" />
                </StackPanel>
                <StackPanel Orientation="Horizontal" Margin="6,0,0,6">
                    <TextBlock Text="End:" VerticalAlignment="Center" Margin="0,0,4,0" />
                    <ComboBox x:Name="EndVertexComboBox" Width="50"
                              ItemsSource="{Binding Vertices}"
                              SelectedItem="{Binding EndVertex, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                              DisplayMemberPath="Id"
                              IsEnabled="{Binding Vertices.Count, Converter={StaticResource MinCountToEnabledConverter}, ConverterParameter=2}" />
                </StackPanel>
                <Button Content="Solve" Margin="6,10,6,0" Padding="10,2" Command="{Binding SolveCommand}" />
                <Button Content="Solve and Save..." Margin="6,6,6,0" Padding="10,2" Click="SaveResultButton_Click" />
                <Separator Margin="6,8" />
                <Button Content="Clear Graph" Margin="6,0" Padding="10,2" Click="ClearGraphButton_Click" />
            </StackPanel>
            <!-- Main graph area -->
            <Border Grid.Column="1" BorderThickness="1" BorderBrush="#E0E0E0" Margin="12" Background="White">
                <Canvas x:Name="GraphCanvas"
                        Background="#FFFFFF"
                        Focusable="True"
                        HorizontalAlignment="Stretch"
                        VerticalAlignment="Stretch"
                        ClipToBounds="True"/>
            </Border>
        </Grid>
    </DockPanel>
</Window>
